<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<!--
******************************************************************************
*
******************************************************************************
-->

<html>
<head>
   <title>RHIC Polarimetry Results: Fill Database</title>
   <link REL="STYLESHEET" TYPE="text/css" HREF="../main.css">
</head>

<body bgcolor="#ffffff">

<?php
include("../head.html");
?>


<!-- Main text starts here-->

<p><a name="content"/>

<h1>RHIC Polarimetry Results by Fill</h1>

<?php

include_once("../rundb/GlobResult.php");
include_once("../rundb/DbFillPolarNew.php");
include_once("../rundb/FillSelector.php");

$fillSelector = new FillSelector();
$fillSelector->PrintForm();

$dbFillPolar = new DbFillPolarNew($fillSelector);
//$dbFillPolar = new DbFillPolarNew();

$nFills = $dbFillPolar->CountEntries();

?>

<p>
Fills selected: <?=$dbFillPolar->nResults?>

<?//=$dbFillPolar->sqlWhere?>

<?
// Create page links
//$page = 1;
//$nRunsPerPage = 200;.
//$nPages = ceil($nFills/$nRunsPerPage);

//if ( isset($_GET['page']) ) $page = $_GET['page'];
//if ($page > $nPages || $page < 1) $page = 1;

//$dbFillPolar->PrintPageIndex($nPages, $page);

// read all entries for this run period
$entries = $dbFillPolar->ReadEntries(); //($page-1)*$nRunsPerPage, $nRunsPerPage);

//print "<pre>\n";
//print_r($row);
//print "</pre>\n";

$es = array();

$globResult = new GlobResult();


// First loop over all fills
// Calculate whatever using all fills
while ($e = mysql_fetch_assoc($entries))
{
   $globResult->AddMeas($e);

   // put all entries in array $es for convenience
   $es[] = $e;
}


// Process all fills and calculate the average for all sets
$globResult->Process();

$globResult->CalcDependencies();

//print("<pre>");
//print_r($globResult->fAvrgHJnPCPolars[1]);
//print("</pre>");

$pairBHJ_Avrg     = $globResult->fAvrgHJPolars[1];
$pairBHJ_B1U_Avrg = $globResult->fAvrgHJnPCPolars[0];
$pairBHJ_B2D_Avrg = $globResult->fAvrgHJnPCPolars[2];
$pairYHJ_Avrg     = $globResult->fAvrgHJPolars[2];
$pairYHJ_Y1D_Avrg = $globResult->fAvrgHJnPCPolars[1];
$pairYHJ_Y2U_Avrg = $globResult->fAvrgHJnPCPolars[3];
$pairB1U_Avrg     = $globResult->fAvrgPCPolars[0];
$pairY1D_Avrg     = $globResult->fAvrgPCPolars[1];
$pairB2D_Avrg     = $globResult->fAvrgPCPolars[2];
$pairY2U_Avrg     = $globResult->fAvrgPCPolars[3];
$pairB1U_BHJ_Avrg = $globResult->fAvrgPCnHJPolars[0];
$pairY1D_YHJ_Avrg = $globResult->fAvrgPCnHJPolars[1];
$pairB2D_BHJ_Avrg = $globResult->fAvrgPCnHJPolars[2];
$pairY2U_YHJ_Avrg = $globResult->fAvrgPCnHJPolars[3];

$missedBeamProfRHorzBlu = $globResult->fMissedBeamProfRs[1][0];
$missedBeamProfRVertBlu = $globResult->fMissedBeamProfRs[1][1];
$missedBeamProfRHorzYel = $globResult->fMissedBeamProfRs[2][0];
$missedBeamProfRVertYel = $globResult->fMissedBeamProfRs[2][1];

// Calculate scale factors
$normB1U = $globResult->fNormHJ2PCPolars[0];
$normY1D = $globResult->fNormHJ2PCPolars[1];
$normB2D = $globResult->fNormHJ2PCPolars[2];
$normY2U = $globResult->fNormHJ2PCPolars[3];

// Loop over all fills to find (average/best) missing values
$deltaB_UvsDs = array();
$deltaY_UvsDs = array();
$deltaB_profs = array();
$deltaY_profs = array();

$pairProfileB_Vs = array();
$pairProfileB_Hs = array();
$pairProfileY_Vs = array();
$pairProfileY_Hs = array();

print("<pre>");
//print_r($deltaB_UvsDs);
//print_r($deltaY_UvsDs);
//print_r($pairProfileB_Vs);
//print_r($pairProfileB_Hs);
//print_r($es);
print("</pre>");

print("<pre>");
//print_r($es);
//foreach ($es as $e):
//   print ($e['fill']."\n");
//endforeach;
print("</pre>");

foreach ($es as &$e)
{
   // blue comb
   $pairB_UDs = array();
   $pairY_UDs = array();

   if ($e['polar_blue_1_err'] >= 0) {
      // add syst to the stat error
		$err_stat = $normB1U->first * $e['polar_blue_1_err'];
		$err_syst = $relSystErr["B1U"]["sigma"]["norm"] * $pairBHJ_B1U_Avrg;
		$err = sqrt($err_stat*$err_stat + $err_syst*$err_syst);
      $pairB_UDs[] = new pair($normB1U->first * $e['polar_blue_1'], $err);
   }

   if ($e['polar_blue_2_err'] >= 0) {
      // add syst to the stat error
		$err_stat = $normB2D * $e['polar_blue_2_err'];
		$err_syst = $relSystErr["B2D"]["sigma"]["norm"] * $pairBHJ_B2D_Avrg;
		$err = sqrt($err_stat*$err_stat + $err_syst*$err_syst);
      $pairB_UDs[] = new pair($normB2D * $e['polar_blue_2'], $err);
   }

   if ($e['polar_yellow_1_err'] >= 0) {
      // add syst to the stat error
		$err_stat = $normY1D * $e['polar_yellow_1_err'];
		$err_syst = $relSystErr["Y1D"]["sigma"]["norm"] * $pairYHJ_Y1D_Avrg;
		$err = sqrt($err_stat*$err_stat + $err_syst*$err_syst);
      $pairY_UDs[] = new pair($normY1D * $e['polar_yellow_1'], $err);
   }

   if ($e['polar_yellow_2_err'] >= 0) {
      // add syst to the stat error
		$err_stat = $normY2U * $e['polar_yellow_2_err'];
		$err_syst = $relSystErr["Y2U"]["sigma"]["norm"] * $pairYHJ_Y2U_Avrg;
		$err = sqrt($err_stat*$err_stat + $err_syst*$err_syst);
      $pairY_UDs[] = new pair($normY2U * $e['polar_yellow_2'], $err);
   }

   // now deal with profiles
   $pairProfileB_V = null;
   if ($e['profile_blue_v_err'] >= 0) {
      $pairProfileB_V = new pair($e['profile_blue_v'], $e['profile_blue_v_err']);
      $pairProfileB_Vs[] = $pairProfileB_V;
   }

   $pairProfileB_H = null;
   if ($e['profile_blue_h_err'] >= 0) {
      $pairProfileB_H = new pair($e['profile_blue_h'], $e['profile_blue_h_err']);
      $pairProfileB_Hs[] = $pairProfileB_H;
   }

   $pairProfileY_V = null;
   if ($e['profile_yellow_v_err'] >= 0) {
      $pairProfileY_V = new pair($e['profile_yellow_v'], $e['profile_yellow_v_err']);
      $pairProfileY_Vs[] = $pairProfileY_V;
   }

   $pairProfileY_H = null;
   if ($e['profile_yellow_h_err'] >= 0) {
      $pairProfileY_H = new pair($e['profile_yellow_h'], $e['profile_yellow_h_err']);
      $pairProfileY_Hs[] = $pairProfileY_H;
   }

   // p_max
   $pairPMaxB_V = null;
   if ($e['pmax_blue_v_err'] >= 0)   $pairPMaxB_V = new pair($e['pmax_blue_v'], $e['pmax_blue_v_err']);

   $pairPMaxB_H = null;
   if ($e['pmax_blue_h_err'] >= 0)   $pairPMaxB_H = new pair($e['pmax_blue_h'], $e['pmax_blue_h_err']);

   $pairPMaxY_V = null;
   if ($e['pmax_yellow_v_err'] >= 0) $pairPMaxY_V = new pair($e['pmax_yellow_v'], $e['pmax_yellow_v_err']);

   $pairPMaxY_H = null;
   if ($e['pmax_yellow_h_err'] >= 0) $pairPMaxY_H = new pair($e['pmax_yellow_h'], $e['pmax_yellow_h_err']);

   $e['pairProfileB_V']   = $pairProfileB_V;
   $e['pairProfileB_H']   = $pairProfileB_H;
   $e['pairProfileY_V']   = $pairProfileY_V;
   $e['pairProfileY_H']   = $pairProfileY_H;

   $e['pairPMaxB_V']      = $pairPMaxB_V;
   $e['pairPMaxB_H']      = $pairPMaxB_H;
   $e['pairPMaxY_V']      = $pairPMaxY_V;
   $e['pairPMaxY_H']      = $pairPMaxY_H;
}

// this is required due to a php bug
unset($e);

//$deltaB_UvsD_Avrg    = calcQuantileValue($deltaB_UvsDs, .90);
//$deltaY_UvsD_Avrg    = calcQuantileValue($deltaY_UvsDs, .90);

$pairProfileB_V_Avrg = calcWeigtedAvrgErr($pairProfileB_Vs);
$pairProfileB_V_SDev = calcWeigtedStdDev( $pairProfileB_Vs);
$pairProfileB_V_misd = new pair($pairProfileB_V_Avrg->first, $pairProfileB_V_SDev->first);

$pairProfileB_H_Avrg = calcWeigtedAvrgErr($pairProfileB_Hs);
$pairProfileB_H_SDev = calcWeigtedStdDev( $pairProfileB_Hs);
$pairProfileB_H_misd = new pair($pairProfileB_H_Avrg->first, $pairProfileB_H_SDev->first);

$pairProfileY_V_Avrg = calcWeigtedAvrgErr($pairProfileY_Vs);
$pairProfileY_V_SDev = calcWeigtedStdDev( $pairProfileY_Vs);
$pairProfileY_V_misd = new pair($pairProfileY_V_Avrg->first, $pairProfileY_V_SDev->first);

$pairProfileY_H_Avrg = calcWeigtedAvrgErr($pairProfileY_Hs);
$pairProfileY_H_SDev = calcWeigtedStdDev( $pairProfileY_Hs);
$pairProfileY_H_misd = new pair($pairProfileY_H_Avrg->first, $pairProfileY_H_SDev->first);


print("<pre>");
//print_r($deltaB_UvsDs);
//print_r($deltaY_UvsDs);
//print_r($pairProfileB_Vs);
//print_r($pairProfileB_Hs);
print("</pre>");

?>


<p>
<table class="simple cntr" cellspacing=0 align=center>

<?php

$header = "
<tr>
   <th rowspan=2>Fill
<!--   <th>Selected -->

   <th rowspan=2>Type
   <th rowspan=2>Flattop, GeV

   <th class='bluPol' rowspan=2>Polarization,&nbsp;%<br>In collisions
   <th class='bluPol' colspan=3>Polarization,&nbsp;%<br>&nbsp;

   <th class='yelPol' rowspan=2>Polarization,&nbsp;%<br>In collisions
   <th class='yelPol' colspan=3>Polarization,&nbsp;%<br>&nbsp;

   <th class='bluPol' rowspan=2>Polarization,&nbsp;%<br>H-jet
   <th class='bluPol' rowspan=2>Polarization,&nbsp;%<br>B1U
   <th class='bluPol' rowspan=2>Polarization,&nbsp;%<br>B2D
   <th class='bluPol' rowspan=2>R_H<br>Horiz. profile
   <th class='bluPol' rowspan=2>R_V<br>Vert. profile
   <th class='bluPol' rowspan=2><var>k</var><sub>coll</sub>

   <th class='yelPol' rowspan=2>Polarization,&nbsp;%<br>H-jet
   <th class='yelPol' rowspan=2>Polarization,&nbsp;%<br>Y1D
   <th class='yelPol' rowspan=2>Polarization,&nbsp;%<br>Y2U
   <th class='yelPol' rowspan=2>R_H<br>Horiz. profile
   <th class='yelPol' rowspan=2>R_V<br>Vert. profile
   <th class='yelPol' rowspan=2><var>k</var><sub>coll</sub>

<tr>

   <th class='bluPol'>Avrg.
   <th class='bluPol'>P_0
   <th class='bluPol'>Slope, %/h

   <th class='yelPol'>Avrg.
   <th class='yelPol'>P_0
   <th class='yelPol'>Slope, %/h
";

$polarBAvrgs = array();
$polarYAvrgs = array();

$polarB_Colls = array();
$polarY_Colls = array();

$iRow = 0;

print("<pre>");
//print_r($es);
//foreach ($es as $e):
//   print ($e['fill']."\n");
//endforeach;
print("</pre>");

// Final loop over all entries to create table rows
foreach ($globResult->fFillResults as $fill):

   if ($iRow % 50 == 0)
      print $header;

   $strFillId     = $fill->fFillId >= 0 ? $fill->fFillId : "&nbsp;";
   $strFillType   = $fill->fType >= 0 ? $FILLTYPE[$fill->fType] : "&nbsp;";
   $strBeamEnergy = $fill->fBeamEnergy >= 0 ? sprintf("%6.0f", $fill->fBeamEnergy) : "&nbsp;";


   $hjPolarBlu = $fill->fHJPolars[1];
   $hjPolarYel = $fill->fHJPolars[2];

   $pcPolarB1U = $fill->fPCPolars[0];
   $pcPolarY1D = $fill->fPCPolars[1];
   $pcPolarB2D = $fill->fPCPolars[2];
   $pcPolarY2U = $fill->fPCPolars[3];


   $beamPolarBlu      = $fill->fBeamPolars[1];
   $beamPolarP0Blu    = $fill->fBeamPolarP0s[1];
   $beamPolarSlopeBlu = new pair($fill->fBeamPolarSlopes[1]->first*100., $fill->fBeamPolarSlopes[1]->second*100.);

   $beamPolarYel      = $fill->fBeamPolars[2];
   $beamPolarP0Yel    = $fill->fBeamPolarP0s[2];
   $beamPolarSlopeYel = new pair($fill->fBeamPolarSlopes[2]->first*100., $fill->fBeamPolarSlopes[2]->second*100.);

   $beamProfRHorzBlu  = $fill->fBeamProfRs[1][0];
   $beamProfRVertBlu  = $fill->fBeamProfRs[1][1];
   $beamProfRHorzYel  = $fill->fBeamProfRs[2][0];
   $beamProfRVertYel  = $fill->fBeamProfRs[2][1];

   $polarBAvrgs[] = $beamPolarBlu;
   $polarYAvrgs[] = $beamPolarYel;

   $beamPolarP0Yel = $fill->fBeamPolarP0s[2];

   // now deal with profiles
   //$pairProfileB_V = $e['pairProfileB_V'] !== null ? $e['pairProfileB_V'] : $pairProfileB_V_misd;
   //$pairProfileB_H = $e['pairProfileB_H'] !== null ? $e['pairProfileB_H'] : $pairProfileB_H_misd;
   //$pairProfileY_V = $e['pairProfileY_V'] !== null ? $e['pairProfileY_V'] : $pairProfileY_V_misd;
   //$pairProfileY_H = $e['pairProfileY_H'] !== null ? $e['pairProfileY_H'] : $pairProfileY_H_misd;

   $pairProfileB_H = $beamProfRHorzBlu;
   $pairProfileB_V = $beamProfRVertBlu;
   $pairProfileY_H = $beamProfRHorzYel;
   $pairProfileY_V = $beamProfRVertYel;

   // if both V and H profiles are valid calculate k_coll and its error
   $pairScalePolarBColl = $fill->fCollPolarScale;
   $polarBColl          = $fill->fCollBeamPolars[1];
	$polarB_Colls[]      = $polarBColl;

   // if both V and H profiles are valid calculate k_coll and its error
   $pairScalePolarYColl = calcPolarCollisionScale($pairProfileY_H, $pairProfileY_V);
   $polarYColl          = calcPolarCollision($beamPolarYel, $pairScalePolarYColl);
	$polarY_Colls[]      = $polarYColl;

   // convert to strings
   // now profiles
   $strProfileB_H     = $beamProfRHorzBlu->second >= 0 ? pairToString($beamProfRHorzBlu) :
                        sprintf("<span class='feature'>%5.2f&nbsp;&plusmn;&nbsp;%5.2f</span>", $missedBeamProfRHorzBlu->first, $missedBeamProfRHorzBlu->second);

   $strProfileB_V     = $beamProfRVertBlu->second >= 0 ? pairToString($beamProfRVertBlu) :
                        sprintf("<span class='feature'>%5.2f&nbsp;&plusmn;&nbsp;%5.2f</span>", $missedBeamProfRVertBlu->first, $missedBeamProfRVertBlu->second);

   $strProfileY_H     = $beamProfRHorzYel->second >= 0 ? pairToString($beamProfRHorzYel) :
                        sprintf("<span class='feature'>%5.2f&nbsp;&plusmn;&nbsp;%5.2f</span>", $missedBeamProfRHorzYel->first, $missedBeamProfRHorzYel->second);

   $strProfileY_V     = $beamProfRVertYel->second >= 0 ? pairToString($beamProfRVertYel) :
                        sprintf("<span class='feature'>%5.2f&nbsp;&plusmn;&nbsp;%5.2f</span>", $missedBeamProfRVertYel->first, $missedBeamProfRVertYel->second);
?>

<tr>
   <td class=align_cm><a href="http://www.phy.bnl.gov/cnipol/fills/?fillid=<?=$e['fill']?>&ana=run<?=sprintf("%02d", $_GET['rp'])?>"><?=$strFillId?></a>
   <!--<td class=align_cm><input type='checkbox' name='selectedFills[] value=<?=$e['fill']?>'>-->

   <td class='align_cm'><?=$strFillType?>
   <td class='align_cm'><?=$strBeamEnergy?>

   <td class='align_cm bluPol'><b><?=polarPairToString($polarBColl)?></b>
   <td class='align_cm bluPol'><?=polarPairToString($beamPolarBlu)?>
   <td class='align_cm bluPol'><?=polarPairToString($beamPolarP0Blu)?>
   <td class='align_cm bluPol'><?=pairToString($beamPolarSlopeBlu)?>

   <td class='align_cm yelPol'><b><?=polarPairToString($polarYColl)?></b>
   <td class='align_cm yelPol'><?=polarPairToString($beamPolarYel)?>
   <td class='align_cm yelPol'><?=polarPairToString($beamPolarP0Yel)?>
   <td class='align_cm yelPol'><?=pairToString($beamPolarSlopeYel)?>

   <td class='align_cm nowrap'><?=polarPairToString($hjPolarBlu)?>
   <td class='align_cm nowrap'><?=pairToString($pcPolarB1U)?>
   <td class='align_cm nowrap'><?=polarPairToString($pcPolarB2D)?>
   <td class='align_cm nowrap'><?=$strProfileB_V?>
   <td class='align_cm nowrap'><?=$strProfileB_H?>
   <td class='align_cm nowrap'><?=pairToString($pairScalePolarBColl)?>

   <td class='align_cm nowrap'><?=polarPairToString($hjPolarYel)?>
   <td class='align_cm nowrap'><?=polarPairToString($pcPolarY1D)?>
   <td class='align_cm nowrap'><?=polarPairToString($pcPolarY2U)?>
   <td class='align_cm nowrap'><?=$strProfileY_V?>
   <td class='align_cm nowrap'><?=$strProfileY_H?>
   <td class='align_cm nowrap'><?=pairToString($pairScalePolarYColl)?>

<?php

   $iRow++;

endforeach;

// Take care of the averages
$polarB_Coll_Avrg    = calcWeigtedAvrgErr($polarB_Colls);
$polarY_Coll_Avrg    = calcWeigtedAvrgErr($polarY_Colls);

$polarBAvrg          = calcWeigtedAvrgErr($polarBAvrgs);
$polarYAvrg          = calcWeigtedAvrgErr($polarYAvrgs);

$strPolarB_Coll_Avrg = polarPairToString($polarB_Coll_Avrg);
$strPolarY_Coll_Avrg = polarPairToString($polarY_Coll_Avrg);

$strPolarBAvrg       = polarPairToString($polarBAvrg);
$strPolarYAvrg       = polarPairToString($polarYAvrg);

// calc relative uncertainty
$polarB_Coll_RelErr    = $polarB_Coll_Avrg->first ? $polarB_Coll_Avrg->second/$polarB_Coll_Avrg->first*100. : 0;
$strPolarB_Coll_RelErr = sprintf("%5.2f", $polarB_Coll_RelErr);

$polarY_Coll_RelErr    = $polarY_Coll_Avrg->first ? $polarY_Coll_Avrg->second/$polarY_Coll_Avrg->first*100. : 0;
$strPolarY_Coll_RelErr = sprintf("%5.2f", $polarY_Coll_RelErr);

$polarBAvrg_RelErr     = $polarBAvrg->first ? $polarBAvrg->second/$polarBAvrg->first*100. : 0;
$strPolarBAvrg_RelErr  = sprintf("%5.2f", $polarBAvrg_RelErr);

$polarYAvrg_RelErr     = $polarYAvrg->first ? $polarYAvrg->second/$polarYAvrg->first*100. : 0;
$strPolarYAvrg_RelErr  = sprintf("%5.2f", $polarYAvrg_RelErr);

?>

<tr>
   <th colspan=24>&nbsp;<br>&nbsp;

<tr>
   <th><img src=https://wiki.bnl.gov/rhicspin/upload/math/8/a/0/8a08c843dc36a67b7c8b92f42f9c1ae4.png>

   <th>&nbsp;
   <th>&nbsp;

   <th class='bluPol align_ct'><?=$strPolarB_Coll_Avrg?>
   <th class='bluPol align_ct'><?=$strPolarBAvrg?>
   <th class='bluPol align_ct'>&nbsp;
   <th class='bluPol align_ct'>&nbsp;

   <th class='yelPol align_ct'><?=$strPolarY_Coll_Avrg?>
   <th class='yelPol align_ct'><?=$strPolarYAvrg?>
   <th class='yelPol align_ct'>&nbsp;
   <th class='yelPol align_ct'>&nbsp;

   <th class=align_ct><?=polarPairToString($pairBHJ_Avrg)?>
   <th class=align_ct><?=polarPairToString($pairB1U_Avrg)?><br><hr>
       <?=polarPairToString($pairBHJ_B1U_Avrg)?>&nbsp;(H-jet|B1U)<br>
       <?=polarPairToString($pairB1U_BHJ_Avrg)?>&nbsp;(B1U|H-jet)<br>
   <th class=align_ct><?=polarPairToString($pairB2D_Avrg)?><br><hr>
       <?=polarPairToString($pairBHJ_B2D_Avrg)?>&nbsp;(H-jet|B2D)<br>
       <?=polarPairToString($pairB2D_BHJ_Avrg)?>&nbsp;(B2D|H-jet)<br>
   <th><?=pairToString($globResult->fAvrgBeamProfRs[1][1])?>
   <th><?=pairToString($globResult->fAvrgBeamProfRs[1][0])?>
   <th>&nbsp;

   <th class=align_ct><?=polarPairToString($pairYHJ_Avrg)?>
   <th class=align_ct><?=polarPairToString($pairY1D_Avrg)?><br><hr>
       <?=polarPairToString($pairYHJ_Y1D_Avrg)?>&nbsp;(H-jet|Y1D)<br>
       <?=polarPairToString($pairY1D_YHJ_Avrg)?>&nbsp;(Y1D|H-jet)<br>
   <th class=align_ct><?=polarPairToString($pairY2U_Avrg)?><br><hr>
       <?=polarPairToString($pairYHJ_Y2U_Avrg)?>&nbsp;(H-jet|Y2U)<br>
       <?=polarPairToString($pairY2U_YHJ_Avrg)?>&nbsp;(Y2U|H-jet)<br>
   <th><?=pairToString($globResult->fAvrgBeamProfRs[2][1])?>
   <th><?=pairToString($globResult->fAvrgBeamProfRs[2][0])?>
   <th>&nbsp;

<tr>
   <th>
   <img src=https://wiki.bnl.gov/rhicspin/upload/math/d/6/c/d6cfca0bac999e6cc65487d1a8f8dad7.png>
   <th>&nbsp;
   <th>&nbsp;
   <th class='bluPol align_cm'><?=$strPolarB_Coll_RelErr?>
   <th class='bluPol align_cm'><?=$strPolarBAvrg_RelErr?>
   <th class='bluPol align_cm'>&nbsp;
   <th class='bluPol align_cm'>&nbsp;
   <th class='yelPol align_cm'><?=$strPolarY_Coll_RelErr?>
   <th class='yelPol align_cm'><?=$strPolarYAvrg_RelErr?>
   <th class='yelPol align_cm'>&nbsp;
   <th class='yelPol align_cm'>&nbsp;
   <th>&nbsp;
   <th>&nbsp;
   <th>&nbsp;
   <th>&nbsp;
   <th>&nbsp;
   <th>&nbsp;
   <th>&nbsp;
   <th>&nbsp;
   <th>&nbsp;
   <th>&nbsp;
   <th>&nbsp; <th>&nbsp;

</table>

<p>&nbsp;
<p>&nbsp;
<p>&nbsp;
<p>&nbsp;
<p>
Normalization factors for p-Carbon polarization k_{jet/crb} from all fills in this run:

<p>
<table border="1" cellpadding="4" cellspacing="0">
<tr>
   <th class='bluPol'>B1U
   <th class='bluPol'>B2D
   <th class='yelPol'>Y1D
   <th class='yelPol'>Y2U

<tr>
   <td><?=pairToString($normB1U, "%8.7f")?>
   <td><?=pairToString($normB2D, "%8.7f")?>
   <td><?=pairToString($normY1D, "%8.7f")?>
   <td><?=pairToString($normY2U, "%8.7f")?>
</table>


<!-- Main text ends here-->

<?php
include("../bottom.html");
?>

</body>
</html>
